<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>进制转换工具</title>
</head>
<body>
	<h1>进制转换工具</h1>
	<p>输入进制：
		<label><input type="radio" name="input-base" value="2"> 二进制（BIN）</label>
		<label><input type="radio" name="input-base" value="8"> 八进制（OCT）</label>
		<label><input type="radio" name="input-base" value="10" checked> 十进制（DEC）</label>
		<label><input type="radio" name="input-base" value="16"> 十六进制（HEX）</label>
	</p>
	<p>输入内容：<input type="text" id="input"><button id="switch-btn">一键切换</button></p>
	<p>输出进制：
		<label><input type="radio" name="output-base" value="2"> 二进制（BIN）</label>
		<label><input type="radio" name="output-base" value="8"> 八进制（OCT）</label>
		<label><input type="radio" name="output-base" value="10"> 十进制（DEC）</label>
		<label><input type="radio" name="output-base" value="16" checked> 十六进制（HEX）</label>
	</p>
	<div style="border: 1px solid black; padding: 5px;">
		<span id="output" style="font-weight: bold;"></span>
		<button id="copy-btn">一键复制</button>
	</div>

	<script>
		// 获取 DOM 元素
		const inputBaseRadios = document.getElementsByName('input-base');
		const inputElement = document.getElementById('input');
		const outputBaseRadios = document.getElementsByName('output-base');
		const outputElement = document.getElementById('output');
		const switchBtn = document.getElementById('switch-btn');
		const copyBtn = document.getElementById('copy-btn');

		// 转换函数
		function convert() {
			let inputBase, outputBase;
			for (let i = 0; i < inputBaseRadios.length; i++) {
				if (inputBaseRadios[i].checked) {
					inputBase = parseInt(inputBaseRadios[i].value);
					break;
				}
			}
			for (let i = 0; i < outputBaseRadios.length; i++) {
				if (outputBaseRadios[i].checked) {
					outputBase = parseInt(outputBaseRadios[i].value);
					break;
				}
			}
			const input = inputElement.value;

			// 将输入内容转换为十进制
			const decimal = input ? parseInt(input, inputBase) : NaN;

			// 将十进制转换为输出进制
			const output = isNaN(decimal) ? '' : decimal.toString(outputBase);

			// 显示结果
			outputElement.textContent = output;
		}

		// 自动转换输入
		inputElement.addEventListener('input', convert);

		// 一键切换函数
		function switchOutput() {
			// 获取当前输入和输出的值和进制
			const input = inputElement.value;
			const output = outputElement.textContent;
			let inputBase, outputBase;
			for (let i = 0; i < inputBaseRadios.length; i++) {
				if (inputBaseRadios[i].checked) {
					inputBase = parseInt(inputBaseRadios[i].value);
					break;
				}
			}
			for (let i = 0; i < outputBaseRadios.length; i++) {
				if (outputBaseRadios[i].checked) {
					outputBase = parseInt(outputBaseRadios[i].value);
					break;
				}
			}

			// 切换输入和输出的值和进制
			inputElement.value = output;
			outputElement.textContent = input;
			for (let i = 0; i < inputBaseRadios.length; i++) {
				if (parseInt(inputBaseRadios[i].value) === outputBase) {
					inputBaseRadios[i].checked = true;
					break;
				}
			}
			for (let i = 0; i < outputBaseRadios.length; i++) {
				if (parseInt(outputBaseRadios[i].value) === inputBase) {
					outputBaseRadios[i].checked = true;
					break;
				}
			}

			// 自动转换输出
			convert();
		}

		// 一键复制函数
		function copyOutput() {
			// 复制结果到剪贴板
			navigator.clipboard.writeText(outputElement.textContent);
		}

		// 绑定事件
		switchBtn.addEventListener('click', switchOutput);
		copyBtn.addEventListener('click', copyOutput);
	</script>
</body>
</html>
